<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–¢–µ–º—ã –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      font-family: Georgia, serif;
      background: linear-gradient(to bottom, #fdf5e6, #f8f1e0);
      color: #3b2a26;
      line-height: 1.6;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #e2ddd4;
      padding: 20px 40px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      user-select: none;
    }

    header img {
      height: 70px;
      width: auto;
      object-fit: contain;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo img {
      height: 50px;
    }

    nav a {
      margin: 0 15px;
      text-decoration: none;
      color: #3b2a26;
      font-size: 16px;
    }

    .search {
      font-size: 20px;
      cursor: pointer;
    }

    .welcome {
      text-align: center;
      padding: 50px 20px 30px;
    }

    .start-text {
      display: inline-block;
      padding: 10px 20px;
      background-color: #e0d3c2;
      border-radius: 5px;
      font-weight: bold;
      margin-bottom: 30px;
      font-size: 20px;
    }

    .divider {
      width: 80%;
      margin: 0 auto;
      border-top: 1px solid #d3c5b2;
    }

    .topics-container {
      padding: 40px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .topics-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }

    .topic-block {
      background: #f4ede3;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
    }

    .topic-button {
      background: #e9ded1;
      border: none;
      padding: 15px 20px;
      font-size: 18px;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      text-align: left;
      transition: background 0.3s ease;
    }

    .topic-button:hover {
      background: #d8cdc0;
    }

    .topic-list {
      list-style: none;
      margin: 10px 0 0;
      padding: 0 10px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 8px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, padding 0.3s ease;
      font-size: 16px;
    }

    .topic-list.open {
      max-height: 1000px;
      padding: 10px;
    }

    .topic-list li {
      padding: 8px 0;
      border-bottom: 1px solid #e0d3c2;
    }

    .topic-list li:last-child {
      border-bottom: none;
    }

    .topic-list li a {
      text-decoration: none;
      color: #3b2a26;
    }

    .topic-list li strong {
      display: block;
      margin-bottom: 6px;
      color: #8b5a2b;
      font-size: 18px;
    }

    @media (max-width: 1024px) {
      .topics-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .topics-grid {
        grid-template-columns: 1fr;
      }
    }

    /* ========= –°—Ç–∏–ª–∏ –≤–∏–¥–∂–µ—Ç–∞ —á–∞—Ç–∞ ========= */
    .chat-fab { position: fixed; right: 20px; bottom: 20px; width: 64px; height: 64px; border-radius: 50%; border: none; cursor: pointer; background: #a69f91; color: #2f2e2a; box-shadow: 0 8px 20px rgba(166,159,145,.5); display: grid; place-items: center; transition: transform .2s, box-shadow .2s, background .2s; z-index: 1000; }
    .chat-fab:hover { transform: translateY(-2px) scale(1.02); background: #8f897e; box-shadow: 0 12px 28px rgba(143,137,126,.6); }
    .chat-fab svg { width: 28px; height: 28px; }

    .chat-panel { position: fixed; right: 20px; bottom: 96px; width: 360px; max-width: calc(100vw - 40px); max-height: 70vh; display: none; flex-direction: column; background: #f4ede3; color: #3b2a26; border-radius: 16px; box-shadow: 0 16px 40px rgba(0,0,0,.15); overflow: hidden; z-index: 1000; }
    .chat-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 14px; background: #e2ddd4; border-bottom: 1px solid rgba(0,0,0,.05); }
    .chat-title { font-weight: 700; font-size: 18px; }
    .chat-controls { display: flex; gap: 8px; }
    .chat-icon-btn { background: transparent; border: none; cursor: pointer; padding: 6px; border-radius: 8px; }
    .chat-icon-btn:hover { background: rgba(0,0,0,.06); }

    .chat-body { padding: 12px; overflow-y: auto; flex: 1; display: flex; flex-direction: column; gap: 10px; }
    .message { max-width: 85%; border-radius: 16px; padding: 10px 12px; line-height: 1.5; box-shadow: 0 1px 2px rgba(0,0,0,.05); }
    .message.bot { background: #fff; align-self: flex-start; }
    .message.user { background: #e9e4da; align-self: flex-end; }

    .chips { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px; }
    .chip { background: #fff; border: 1px solid rgba(0,0,0,.08); padding: 6px 10px; border-radius: 999px; cursor: pointer; font-size: 14px; }
    .chip:hover { background: #f7f4ee; }

    .typing { display: inline-block; width: 1em; text-align: left; }
    .typing span { display: inline-block; width: .2em; height: .2em; margin: 0 .05em; background: #9b9486; border-radius: 50%; animation: blink 1s infinite; }
    .typing span:nth-child(2){ animation-delay: .2s; }
    .typing span:nth-child(3){ animation-delay: .4s; }
    @keyframes blink { 0%,80%,100%{ opacity:.2 } 40%{ opacity:1 } }

    .chat-input-row { display: flex; align-items: center; gap: 8px; padding: 10px; background: #e2ddd4; border-top: 1px solid rgba(0,0,0,.05); }
    .chat-input { flex: 1; font-size: 16px; padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(0,0,0,.12); background: #fff; }
    .send-btn { background: #a69f91; color: #2f2e2a; border: none; border-radius: 12px; padding: 10px 14px; font-weight: 700; cursor: pointer; }
    .send-btn:hover { background: #8f897e; }

    @media (max-width: 480px){ .chat-panel{ right: 10px; left: 10px; width: auto; bottom: 90px; } }
  </style>
</head>
<body>

  <header>
    <div style="display:flex; align-items:center;">
      <img src="aitu-logo-3.png" alt="–õ–æ–≥–æ—Ç–∏–ø –ê–ò–¢–£" />
    </div>
    <nav>
      <a href="proect.html" style="
      font-size: 20px;
      font-weight: bold;
      text-decoration: none;
      color: #4b473e;
      position: relative;
      padding-bottom: 4px;
    ">
      –û –ø—Ä–æ–µ–∫—Ç–µ
      <span style="
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        height: 2px;
        width: 0;
        background-color: #7c7a72;
        transition: width 0.3s ease;
      "></span>
    </a>

    <style>
      a::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        height: 2px;
        width: 0;
        background-color: #7c7a72;
        transition: width 0.3s ease;
      }
    </style>
    </nav>
  </header>

<section class="welcome">
  <h1 style="font-size: 40px;">–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∞—Å –Ω–∞ —Å–∞–π—Ç–µ –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É</h1>
  <p
    style="
      font-size: 25px;
      font-family: Georgia, serif;
      text-align: center;
      margin: 20px 0;
      color: #3b2a26;
    "
  >
    –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∏–∑—É—á–∞—é—â–∏—Ö —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞—É–∫–∏ –∏ –º–µ–∂–¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞—Ä–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
  </p>
  <div class="start-text">–ù–∞—á–∞—Ç—å –∏–∑—É—á–µ–Ω–∏–µ —Ç–µ–º</div>
  <div class="divider"></div>
</section>

<section class="topics-container">
  <div class="topics-grid">

    <!-- –ü–µ—Ä–≤—ã–π —Ä—è–¥ -->
    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üé≠ –ö—É–ª—å—Ç—É—Ä–∞ –∏ –æ–±—â–µ—Å—Ç–≤–æ</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="1.1.1.html">1.1.1.–î–∏–∞–ª–æ–≥ –∫—É–ª—å—Ç—É—Ä –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ. –§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã. –†–∏—Ç–æ—Ä–∏–∫–∞.</a></li>
        <li><a href="1.1.2.html">1.1.2. –¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏ –µ—ë –≤–∏–¥—ã. –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ª–µ–∫—Å–∏–∫–∞.</a></li>
        <li><a href="1.1.3.html">1.1.3. –¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤ –º–∏—Ä–µ. –ü—É–±–ª–∏—Ü–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∂–∞–Ω—Ä—ã.</a></li>
        <li><a href="1.1.4.html">1.1.4. –õ–µ–∫—Å–∏–∫–∞ –ø—É–±–ª–∏—Ü–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–∏–ª—è</a></li>
        <li><a href="1.1.5.html">1.1.5. –¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω–∞—è –ª–∏—á–Ω–æ—Å—Ç—å. –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ —Ä–µ—á–∏.</a></li>
      </ul>
    </div>

    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üî¨ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—É–∫–∏</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="2.1.1.html">2.1.1.–§–∏–∑–∏–∫–∞ –∏ –ø—Ä–∏—Ä–æ–¥–∞. –°–ø–µ—Ü–ª–µ–∫—Å–∏–∫–∞.</a></li>
        <li><a href="2.1.2.html">2.1.2. –ì–ª–∞–≥–æ–ª—ã –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–∞.</a></li>
        <li><a href="2.1.3.html">2.1.3.  –§–∏–∑–∏–∫–∞ –≤ –∂–∏–∑–Ω–∏. –ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–≥–∏.</a></li>
        <li><a href="2.1.4.html">2.1.4. –û—Ç–∫—Ä—ã—Ç–∏—è –∫–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∏—Ö —É—á—ë–Ω—ã—Ö. –¢–µ—Ä–º–∏–Ω—ã, –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã.</a></li>
        <li><a href="2.1.5.html">2.1.5.  –°–≤–æ–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è. –û–±–æ—Å–æ–±–ª–µ–Ω–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è.</a></li>
        <li><a href="2.1.6.html">2.1.6. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è.</a></li>
      </ul>
    </div>

    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üíª –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="3.1.1.html">3.1.1.  –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ. –û–±–æ—Å–æ–±–ª–µ–Ω–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.</a></li>
        <li><a href="3.1.2.html">3.1.2. –¶–∏—Ñ—Ä–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ –Ω–∞—à–µ–π –∂–∏–∑–Ω–∏</a></li>
        <li><a href="3.1.3.html">3.1.3. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞–º–∏</a></li>
        <li><a href="3.1.4.html">3.1.4. ¬´–¶–∏—Ñ—Ä–æ–≤–æ–π –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω¬ª.</a></li>
        <li><a href="3.1.5.html">3.1.5. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è —Å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å –ø—Ä–µ–¥–ª–æ–≥–∞–º–∏</a></li>
      </ul>
    </div>

    <!-- –í—Ç–æ—Ä–æ–π —Ä—è–¥ -->
    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üß™ –ë–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="4.1.1.html">4.1.1. –ë–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —ç—Ç–∏–∫–∞.</a></li>
        <li><a href="4.1.2.html">4.1.2. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ —Å–ª–æ–∂–Ω–æ—Å–æ—á–∏–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö</a></li>
        <li><a href="4.1.3.html">4.1.3. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.–ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è </a></li>
        <li><a href="4.1.4.html">4.1.4. –ü—Ä–æ—Ñ–µ—Å—Å–∏–∏ –≤ –±–∏–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.</a></li>
        <li><a href="4.1.5.html">4.1.5. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏</a></li>
        <li><a href="4.1.6.html">4.1.6. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ –Ω–µ–ø–æ–ª–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö</a></li>
      </ul>
    </div>

    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">‚ö° –≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="5.1.1.html">5.1.1. –ü—Ä–∏—á–∏–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏.</a></li>
        <li><a href="5.1.2.html">5.1.2. –†–∞–∑–≤–∏—Ç–∏–µ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏ –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ.</a></li>
        <li><a href="5.1.3.html">5.1.3. –ü—É—Ç–∏ —Ä–µ—à–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º.</a></li>
        <li><a href="5.1.4.html">5.1.4. –õ–µ–∫—Å–∏–∫–∞ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏.</a></li>
        <li><a href="5.1.5.html">5.1.5. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ —Å–ª–æ–∂–Ω–æ–ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö —Å –ø—Ä–∏–¥–∞—Ç–æ—á–Ω–æ–π –∏–∑—ä—è—Å–Ω–∏—Ç–µ–ª—å–Ω–æ–π.</a></li>
      </ul>
    </div>

    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üåç –≠–∫–æ–ª–æ–≥–∏—è</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="6.1.1.html">6.1.1. –≠–∫–æ–ª–æ–≥–∏—è –∏ –æ—Ö—Ä–∞–Ω–∞ –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã.</a></li>
        <li><a href="6.1.2.html">6.1.2. –ü—Ä–æ–±–ª–µ–º—ã –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è.</a></li>
        <li><a href="6.1.3.html">6.1.3. –ú–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã –ø—Ä–∏—Ä–æ–¥—ã.</a></li>
        <li><a href="6.1.4.html">6.1.4. –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã.</a></li>
        <li><a href="6.1.5.html">6.1.5. –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ.</a></li>
      </ul>
    </div>

    <!-- –¢—Ä–µ—Ç–∏–π —Ä—è–¥ -->
    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üë• –ú–æ–ª–æ–¥—ë–∂—å –∏ –æ–±—â–µ—Å—Ç–≤–æ</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="7.1.1.html">7.1.1. –ú–æ–ª–æ–¥–µ–∂–Ω–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –≤ –æ–±—â–µ—Å—Ç–≤–µ.</a></li>
        <li><a href="7.1.2.html">7.1.2. –°–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏–µ ‚Äì –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–ª–æ–¥–µ–∂–∏.</a></li>
        <li><a href="7.1.3.html">7.1.3. –ü—Ä–æ–±–ª–µ–º—ã –ø–æ–∫–æ–ª–µ–Ω–∏—è Z.</a></li>
        <li><a href="7.1.4.html">7.1.4. –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ–±—è –≤ –∂–∏–∑–Ω–∏.</a></li>
        <li><a href="7.1.5.html">7.1.5. –†–µ—á–µ–≤–∞—è –∫—É–ª—å—Ç—É—Ä–∞ –º–æ–ª–æ–¥–µ–∂–∏.</a></li>
        <li><a href="7.1.6.html">7.1.6. –ü—Ä–æ–±–ª–µ–º–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏.</a></li>
        <li><a href="7.1.7.html">7.1.7. –ü—Ä–æ—Ñ–µ—Å—Å–∏–∏ —Ç–µ—Ö–Ω–∏–∫–æ-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è.</a></li>
      </ul>
    </div>

    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è.</strong></li>
        <li><a href="8.1.1.html">8.1.1. –ß—Ç–æ —Ç–∞–∫–æ–µ —ç–∫–æ–Ω–æ–º–∏–∫–∞?</a></li>
        <li><a href="8.1.2.html">8.1.2. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è —Å –æ–±–æ—Å–æ–±–ª–µ–Ω–Ω—ã–º–∏ —á–ª–µ–Ω–∞–º–∏.</a></li>
        <li><a href="8.1.3.html">8.1.3. –¶–∏—Ñ—Ä–æ–≤–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞.</a></li>
        <li><a href="8.1.4.html">8.1.4. –£–º–Ω—ã–π –¥–æ–º: —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞.</a></li>
      </ul>
    </div>

    <div class="topic-block">
      <button class="topic-button" onclick="toggleList(this)">üìö –≠—Ç–∏–∫–∞ –∏ –Ω–∞—É–∫–∞</button>
      <ul class="topic-list">
        <li><strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</strong></li>
        <li><a href="9.1.1.html">9.1.1. –≠—Ç–∏–∫–∞ –Ω–∞—É–∫–∏. –û–±—â–µ–Ω–∞—É—á–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞.</a></li>
        <li><a href="9.1.2.html">9.1.2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã.</a></li>
        <li><a href="9.1.3.html">9.1.3. –≠—Ç–∏–∫–∞ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</a></li>
        <li><a href="9.1.4.html">9.1.4. –ó–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –≤ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö.</a></li>
        <li><a href="9.1.5.html">9.1.5. –≠—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∏–±–æ—Ä–≥–æ–≤.</a></li>
      </ul>
    </div>

  </div>
</section>

<script>
  function toggleList(button) {
    const allLists = document.querySelectorAll('.topic-list');
    const currentList = button.nextElementSibling;
    const isAlreadyOpen = currentList.classList.contains('open');

    allLists.forEach(list => {
      if (list !== currentList) {
        list.classList.remove('open');
      }
    });

    if (isAlreadyOpen) {
      currentList.classList.remove('open');
    } else {
      currentList.classList.add('open');
    }
  }
</script>

<!-- ========= –†–∞–∑–º–µ—Ç–∫–∞ –≤–∏–¥–∂–µ—Ç–∞ —á–∞—Ç–∞ ========= -->
<button class="chat-fab" id="chatFab" aria-label="–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç" title="–ü–æ–º–æ—â–Ω–∏–∫ –ø–æ —Ç–µ–º–∞–º">
  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <path d="M4 5.5C4 4.12 5.12 3 6.5 3h11C18.88 3 20 4.12 20 5.5v7c0 1.38-1.12 2.5-2.5 2.5H9l-4 4v-4.5C4 13.62 4 5.5 4 5.5Z" stroke="#2f2e2a" stroke-width="1.5"/>
    <circle cx="9" cy="8.5" r="1" fill="#2f2e2a"/>
    <circle cx="12.5" cy="8.5" r="1" fill="#2f2e2a"/>
    <circle cx="16" cy="8.5" r="1" fill="#2f2e2a"/>
  </svg>
</button>

<aside class="chat-panel" id="chatPanel" aria-live="polite" aria-label="–ß–∞—Ç –ø–æ–º–æ—â–Ω–∏–∫–∞">
  <div class="chat-header">
    <div class="chat-title">–ü–æ–º–æ—â–Ω–∏–∫ –ø–æ —Ç–µ–º–∞–º</div>
    <div class="chat-controls">
      <button class="chat-icon-btn" id="minimizeBtn" title="–°–≤–µ—Ä–Ω—É—Ç—å" aria-label="–°–≤–µ—Ä–Ω—É—Ç—å">‚àí</button>
      <button class="chat-icon-btn" id="closeBtn" title="–ó–∞–∫—Ä—ã—Ç—å" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>
  </div>
  <div class="chat-body" id="chatBody"></div>
  <div class="chat-input-row">
    <input id="chatInput" class="chat-input" type="text" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ: ¬´–•–æ—á—É –ø–æ–¥—Ç—è–Ω—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–ø—è—Ç—ã—Ö‚Ä¶¬ª" />
    <button id="sendBtn" class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </div>
</aside>

<script>
  // ========= –õ–æ–≥–∏–∫–∞ –≤–∏–¥–∂–µ—Ç–∞ (–ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Ç–µ–º–∞–º + —Å–∏–Ω–æ–Ω–∏–º—ã + –Ω–µ—á—ë—Ç–∫–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è) =========
  const fab = document.getElementById('chatFab');
  const panel = document.getElementById('chatPanel');
  const bodyEl = document.getElementById('chatBody');
  const inputEl = document.getElementById('chatInput');
  const sendBtn = document.getElementById('sendBtn');
  const minimizeBtn = document.getElementById('minimizeBtn');
  const closeBtn = document.getElementById('closeBtn');

  const openChat = ()=>{ panel.style.display='flex'; inputEl.focus(); if(!bodyEl.dataset.greeted){ greet(); bodyEl.dataset.greeted='1'; } };
  const closeChat = ()=> panel.style.display='none';
  fab.addEventListener('click',()=> panel.style.display==='flex'?closeChat():openChat());
  minimizeBtn.addEventListener('click',closeChat);
  closeBtn.addEventListener('click',closeChat);
  document.addEventListener('keydown',e=>{ if(e.key==='Escape') closeChat(); });

  function addMessage(role, html){ const msg=document.createElement('div'); msg.className=`message ${role}`; msg.innerHTML=html; bodyEl.appendChild(msg); bodyEl.scrollTop=bodyEl.scrollHeight; return msg; }
  function addTyping(){ return addMessage('bot', `<span class="typing"><span></span><span></span><span></span></span>`); }

  const QUICK = ['–ü—É–Ω–∫—Ç—É–∞—Ü–∏—è','–õ–µ–∫—Å–∏–∫–∞','–°–∏–Ω—Ç–∞–∫—Å–∏—Å','–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—è','–û–±–æ—Å–æ–±–ª–µ–Ω–Ω—ã–µ —á–ª–µ–Ω—ã'];
  function chips(){ return `<div class="chips">${QUICK.map(q=>`<button class="chip" data-chip="${q}">${q}</button>`).join('')}</div>`; }
 function greet(){ 
  addMessage('bot', `–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–¥—Å–∫–∞–∂—É, —á—Ç–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–•–æ—á—É –ø–æ–¥—Ç—è–Ω—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è¬ª –∏–ª–∏ ¬´–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ¬ª. –õ–∏–±–æ –≤—ã–±–µ—Ä–∏ –ø–æ–¥—Å–∫–∞–∑–∫—É: ${chips()}`); 
}

  bodyEl.addEventListener('click', e=>{ const c=e.target.closest('[data-chip]'); if(!c) return; inputEl.value=`–•–æ—á—É –ø–æ–¥—Ç—è–Ω—É—Ç—å ${c.getAttribute('data-chip')}`; handleSend(); });

  // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ç–µ–º—ã (+ —Ä–∞–∑–¥–µ–ª) –∏–∑ DOM
  function collectTopics(){
    const topics = [];
    document.querySelectorAll('.topic-block').forEach(block=>{
      const section = (block.querySelector('.topic-button')?.textContent || '').trim();
      block.querySelectorAll('.topic-list a').forEach(a=>{
        topics.push({ title:(a.textContent||'').trim(), url:a.getAttribute('href'), section });
      });
    });
    return topics;
  }

  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
  const norm = s => (s||'')
    .toLowerCase()
    .replace(/—ë/g,'–µ')
    .replace(/[()"'¬´¬ª‚Ä¶:,.;!?#+=/_\\|-]/g,' ')
    .replace(/\s+/g,' ')
    .trim();

  const tokenize = s => norm(s).split(' ').filter(Boolean);

  // –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω (–¥–ª—è –Ω–µ—á—ë—Ç–∫–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–ª–æ–≤)
  function levenshtein(a,b){
    const m=a.length,n=b.length; if(!m) return n; if(!n) return m;
    const dp=new Array(n+1); for(let j=0;j<=n;j++) dp[j]=j;
    for(let i=1;i<=m;i++){
      let prev=dp[0], tmp; dp[0]=i;
      for(let j=1;j<=n;j++){
        tmp=dp[j];
        dp[j]=Math.min(
          dp[j]+1,           // —É–¥–∞–ª–µ–Ω–∏–µ
          dp[j-1]+1,         // –≤—Å—Ç–∞–≤–∫–∞
          prev + (a[i-1]===b[j-1]?0:1) // –∑–∞–º–µ–Ω–∞
        );
        prev=tmp;
      }
    }
    return dp[n];
  }

  // –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤/—Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
  const SYN = [
    {re:/–∑–∞–ø—è—Ç|–ø—É–Ω–∫—Ç—É–∞—Ü|–∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏|–∫–∞–≤—ã—á|—Ç–∏—Ä–µ|—Å–∫–æ–±/i, add:['–∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è','–∑–∞–ø—è—Ç—ã–µ','–æ–±–æ—Å–æ–±–ª–µ–Ω–Ω—ã–µ','—Å–ª–æ–∂–Ω–æ–ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–µ','—Å–ª–æ–∂–Ω–æ—Å–æ—á–∏–Ω–µ–Ω–Ω—ã–µ','–∫–∞–≤—ã—á–∫–∏','—Ç–∏—Ä–µ','—Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ']},
    {re:/–æ–±–æ—Å–æ–±–ª–µ–Ω/i, add:['–æ–±–æ—Å–æ–±–ª–µ–Ω–Ω—ã–µ','–¥–µ–µ–ø—Ä–∏—á–∞—Å—Ç–Ω—ã–π –æ–±–æ—Ä–æ—Ç','—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Å –ø—Ä–µ–¥–ª–æ–≥–∞–º–∏','–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è','–æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞']},
    {re:/—Ü–∏—Ç–∏—Ä|–∫–∞–≤—ã—á/i, add:['–∫–∞–≤—ã—á–∫–∏','—Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ','–ø—É–Ω–∫—Ç—É–∞—Ü–∏—è']},
    {re:/—Å–∏–Ω—Ç–∞–∫—Å|–ø—Ä–µ–¥–ª–æ–∂–µ–Ω|—Å–ª–æ–≤–æ—Å–æ—á–µ—Ç–∞–Ω/i, add:['—Å–∏–Ω—Ç–∞–∫—Å–∏—Å','—á–ª–µ–Ω—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è','—Å–ª–æ–∂–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è']},
    {re:/–ª–µ–∫—Å–∏–∫|—Ç–µ—Ä–º–∏–Ω/i, add:['–ª–µ–∫—Å–∏–∫–∞','–∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–æ–≤','—Å–∏–Ω–æ–Ω–∏–º—ã','–∞–Ω—Ç–æ–Ω–∏–º—ã','—Ç–µ—Ä–º–∏–Ω—ã']},
    {re:/–º–æ—Ä—Ñ–æ–ª–æ–≥|—á–∞—Å—Ç–∏ —Ä–µ—á–∏|—Å–∫–ª–æ–Ω–µ–Ω|—Å–ø—Ä—è–∂–µ–Ω/i, add:['–º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è','—á–∞—Å—Ç–∏ —Ä–µ—á–∏','–æ–∫–æ–Ω—á–∞–Ω–∏—è']},
    {re:/—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫.*–æ–±—Ä–∞–∑–æ–≤–∞–Ω/i, add:['–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ','—ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ','—ç–∫–æ–Ω–æ–º–∏–∫–∞']}, // –¥–ª—è —á–∞—Å—Ç–æ–π –æ–≥–æ–≤–æ—Ä–∫–∏
    {re:/—ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫.*–æ–±—Ä–∞–∑–æ–≤–∞–Ω/i, add:['—ç–∫–æ–ª–æ–≥–∏—è','—ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ','–ø—Ä–∏—Ä–æ–¥–∞']},
  ];

  // –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≤—Å–µ–º—É —Å–ø–∏—Å–∫—É —Ç–µ–º
  function rankAll(query, topics){
    const qNorm = norm(query);
    const qTokens = tokenize(query);
    // –°–±–æ—Ä —Å–∏–Ω–æ–Ω–∏–º–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø—Ä–æ—Å–∞
    let extra = [];
    SYN.forEach(s => { if(s.re.test(query)) extra = extra.concat(s.add); });
    const extraTokens = extra.flatMap(tokenize);

    const reasons = new Map(); // url -> [reasons]
    const scores = new Map();  // url -> score

    const bump=(url,by,why)=>{
      scores.set(url,(scores.get(url)||0)+by);
      if(why){
        const arr = reasons.get(url) || [];
        if(arr.length<3) arr.push(why); // –æ–≥—Ä–∞–Ω–∏—á–∏–º 3 –ø—Ä–∏—á–∏–Ω–∞–º–∏ –¥–ª—è –ª–∞–∫–æ–Ω–∏—á–Ω–æ—Å—Ç–∏
        reasons.set(url,arr);
      }
    };

    topics.forEach(t=>{
      const title = norm(t.title + ' ' + (t.section||''));
      const url = t.url;

      // 1) –ü—Ä—è–º—ã–µ –≤–∫–ª—é—á–µ–Ω–∏—è
      if(qNorm && title.includes(qNorm)) bump(url, 10, '–ü—Ä—è–º–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ');

      // 2) –ü–æ —Ç–æ–∫–µ–Ω–∞–º –∑–∞–ø—Ä–æ—Å–∞
      qTokens.forEach(tok=>{
        if(!tok) return;
        if(title.includes(tok)) bump(url, 4, `–°–ª–æ–≤–æ ¬´${tok}¬ª`);
        else {
          // 3) –ù–µ—á—ë—Ç–∫–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–ª–æ–≤ 4‚Äì10 —Å–∏–º–≤–æ–ª–æ–≤)
          if(tok.length>=4 && tok.length<=10){
            const words = title.split(' ');
            let best = Infinity;
            for(const w of words){
              if(!w) continue;
              const d = levenshtein(tok, w);
              if(d<best) best=d;
              if(best===0) break;
            }
            if(best<=2) bump(url, 3, `–ü–æ—Ö–æ–∂–µ –Ω–∞ ¬´${tok}¬ª`);
          }
        }
      });

      // 4) –°–∏–Ω–æ–Ω–∏–º—ã/–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏
      extraTokens.forEach(tok=>{
        if(tok && title.includes(tok)) bump(url, 2, `–°–∏–Ω–æ–Ω–∏–º/—Å–≤—è–∑–∞–Ω–Ω–æ–µ: ¬´${tok}¬ª`);
      });

      // 5) –ë–æ–Ω—É—Å—ã –∑–∞ —Ä–∞–∑–¥–µ–ª, –µ—Å–ª–∏ —Å–º—ã—Å–ª —Å–æ–≤–ø–∞–¥–∞–µ—Ç
      if(/–ø—É–Ω–∫—Ç—É–∞—Ü|–∑–∞–ø—è—Ç|–∫–∞–≤—ã—á|–æ–±–æ—Å–æ–±–ª–µ–Ω/.test(qNorm) && /–ó–Ω–∞–∫–∏|–æ–±–æ—Å–æ–±–ª–µ–Ω|—Å–ª–æ–∂–Ω/i.test(t.title)) bump(url, 2, '–ü—É–Ω–∫—Ç—É–∞—Ü–∏—è –≤ —Ç–µ–º–µ');
      if(/–æ–±—Ä–∞–∑–æ–≤–∞–Ω/.test(qNorm) && /–æ–±—Ä–∞–∑–æ–≤–∞–Ω/i.test(t.title)) bump(url, 3, '–ï—Å—Ç—å ¬´–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ¬ª –≤ —Ç–µ–º–µ');
      if(/—ç–∫–æ–Ω–æ–º–∏–∫/.test(qNorm) && /–≠–∫–æ–Ω–æ–º–∏–∫–∞/i.test(t.section)) bump(url, 1, '–†–∞–∑–¥–µ–ª ¬´–≠–∫–æ–Ω–æ–º–∏–∫–∞¬ª');
      if(/—ç–∫–æ–ª–æ–≥/i.test(qNorm) && /–≠–∫–æ–ª–æ–≥–∏—è/i.test(t.section)) bump(url, 1, '–†–∞–∑–¥–µ–ª ¬´–≠–∫–æ–ª–æ–≥–∏—è¬ª');
    });

    // –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–∞—á—É
    const ranked = topics
      .map(t=>{
        const sc = scores.get(t.url)||0;
        return { ...t, score: sc, reason: (reasons.get(t.url)||[]).join('; ') };
      })
      .filter(x=>x.score>0)
      .sort((a,b)=> b.score - a.score || a.title.localeCompare(b.title));

    return ranked;
  }

  async function handleSend(){
    const all = collectTopics();
    const txt = inputEl.value.trim(); if(!txt) return;
    addMessage('user', escapeHtml(txt)); inputEl.value='';
    const typing = addTyping();

    // –õ–æ–∫–∞–ª—å–Ω—ã–π —Ä–∞–Ω–∂ –ø–æ –í–°–ï–ú —Ç–µ–º–∞–º
    const rankedLocal = rankAll(txt, all);
    let html = '';

    // –ü—ã—Ç–∞–µ–º—Å—è —Å–ø—Ä–æ—Å–∏—Ç—å Gemini ‚Äî –ø–µ—Ä–µ–¥–∞—ë–º –í–°–ï —Ç–µ–º—ã
    try{
      const resp = await fetch('/api/gemini-chat', {
        method:'POST', headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ message: txt, candidates: all })
      });
      if(resp.ok){
        const data = await resp.json();
        if(Array.isArray(data.suggestions) && data.suggestions.length){
          // –æ–±–æ–≥–∞—â–∞–µ–º —Å–µ–∫—Ü–∏–µ–π, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
          const byUrl = new Map(all.map(t=>[t.url, t.section]));
          const enriched = data.suggestions.map(s=>({
            ...s,
            section: s.section || byUrl.get(s.url) || ''
          }));
          html = renderSuggestions(enriched, data.summary);
        }
      }
    }catch(e){ /* —Ç–∏—Ö–∏–π —Ñ–æ–ª–±—ç–∫ */ }

    if(!html){
      // –§–æ–ª–±—ç–∫: –±–µ—Ä—ë–º —Ç–æ–ø-10 –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
      const fallback = rankedLocal.slice(0,10).map(c=>({
        title:c.title, url:c.url, section:c.section,
        reason: c.reason || '–°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º'
      }));
      html = renderSuggestions(fallback, '–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –ø–æ–∏—Å–∫—É.');
    }

    typing.remove();
    addMessage('bot', html);
  }

  function renderSuggestions(list, summary){
    const items = list.map(it=>{
      const sec = it.section ? `<div style="font-size:12px;opacity:.8;">–†–∞–∑–¥–µ–ª: ${escapeHtml(it.section)}</div>` : '';
      const why = it.reason ? `<div style='font-size:12px;opacity:.7;'>${escapeHtml(it.reason)}</div>` : '';
      return `<li style="margin:8px 0;">
        <a href="${it.url}">${escapeHtml(it.title)}</a>
        ${sec}${why}
      </li>`;
    }).join('');
    return `<div>
      <div style="font-weight:700;margin-bottom:6px;">–†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ–≤—Ç–æ—Ä–∏—Ç—å:</div>
      <ol style="padding-left:18px;">${items}</ol>
      ${summary?`<div style='margin-top:8px;font-style:italic;'>${escapeHtml(summary)}</div>`:''}
    </div>`;
  }

  sendBtn.addEventListener('click', handleSend);
  inputEl.addEventListener('keydown', e=>{ if(e.key==='Enter' && !e.shiftKey){ e.preventDefault(); handleSend(); } });

  function escapeHtml(str){ return (str||'').replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;' }[m])); }
</script>

</body>
</html>
